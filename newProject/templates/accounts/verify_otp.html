{% extends 'base.html' %}
{% load static %}

{% block title %}Verify OTP{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/verify_otp.css' %}">

<div class="verify-container">
    <div class="verify-card">
        <h2 class="verify-title">Verify OTP</h2>
        <p class="verify-text">
            An OTP has been sent to: <span class="highlight">{{ email }}</span>
        </p>
        <p class="verify-subtext">
            Please enter the OTP below to complete registration.
        </p>

        <form method="post" id="verify-otp-form" class="verify-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="otp" class="form-label">Enter OTP:</label>
                <input
                    type="text"
                    name="otp"
                    id="otp"
                    required
                    pattern="\d{6}"
                    title="Enter a valid 6-digit OTP"
                    class="otp-input"
                    placeholder="••••••"
                >
            </div>
            <button type="submit" id="verify-btn" class="verify-btn">
                Verify OTP
                <svg id="loading-spinner" class="spinner hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="spinner-bg" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="spinner-path" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.37 0 0 5.37 0 12h4zm2 5.29A7.96 7.96 0 014 12H0c0 3.04 1.14 5.82 3 7.94l3-2.65z"></path>
                </svg>
            </button>
        </form>
    </div>
</div>

<script>
    document.getElementById('verify-otp-form').addEventListener('submit', function() {
        document.getElementById('verify-btn').disabled = true;
        document.getElementById('loading-spinner').classList.remove('hidden');
    });
</script>
{% endblock %}
